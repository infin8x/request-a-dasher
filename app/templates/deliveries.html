<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <title>{{.ExternalDeliveryId}} delivery details | Request a Dasher</title>
</head>

<body>

  <main>
    <div class="container">
      <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
          <span class="fs-4">Request a Dasher</span>
        </a>

        <ul class="nav nav-pills">
          <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
          <li class="nav-item"><a href="/deliveries" class="nav-link active" aria-current="page">Deliveries</a>
          </li>
        </ul>
      </header>
      <div class="row">
        <div class="column">
          <h2 class="mb-3">Deliveries</h2>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="row g-5">
            <h2 class="mb-3 fs-4">Select a delivery</h2>
          </div>
          <form method="POST" action="/deliveries">
            <div class="row g-2">
              <div class="col">
                <div class="input-group">
                  <span class="input-group-text">RAD-</span>
                  <input type="text" class="form-control" id="externalDeliveryId" name="externalDeliveryId" required
                    value="{{.DeprefixedDeliveryId}}">
                </div>
              </div>
              <div class="col-sm-auto">
                <button class="btn btn-primary" type="submit">Get status</button>
              </div>
            </div>
          </form>
        </div>
        <div class="col-sm-8">
          <h2 class="mb-3 fs-4">Delivery details <span class="fs-6">(<a href="{{.TrackingUrl}}" target="_blank">view on
                Drive Portal</a>)</span></h2>
          {{if ne .DeliveryStatus ""}}
          <div class="card mb-3">
            <div class="card-body">
              <div class="progress mb-3">
                <div class="progress-bar {{.DeliveryStatusProgressBarClasses}}" role="progressbar"
                  style="width: {{.DeliveryStatusPercentage}}%" aria-valuenow="{{.DeliveryStatusPercentage}}"
                  aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <p>{{.DeliveryStatusFriendly}}</p>
              <div class="row g-5">
                <div class="col-lg">
                  <h4 class="fs-5">Pickup{{if eq .PickupTimeEstimated .PickupTime}} (estimated){{end}}</h4>
                  <span class="date">{{.PickupTime}}</span> (<span class="currentTimezone"></span>)
                      
                </div>
                <div class="col-lg">
                  <h4 class="fs-5">Dropoff{{if eq .DropoffTimeEstimated .DropoffTime}} (estimated){{end}}</h4>
                  <span class="date">{{.DropoffTime}}</span> (<span class="currentTimezone"></span>)
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-body">
              <form method="POST" action="/">
                <div class="row g-5">
                  <div class="col-lg">
                    <h3 class="mb-3 fs-5">From</h3>
                    <div class="row mb-3">
                      <div class="col">
                        <label for="whereFrom" class="form-label">Address</label>
                        <input type="text" class="form-control" id="whereFrom" name="whereFrom" required
                          value="{{.PickupAddress}}" disabled>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <div class="col">
                        <label for="pickupPhone" class="form-label">Phone number</label>
                        <div class="input-group">
                          <span class="input-group-text">+1</span>
                          <input type="tel" pattern="\([0-9]{3}\) [0-9]{3}-[0-9]{4}" class="form-control phone"
                            id="pickupPhone" name="pickupPhone" required value="{{.PickupPhoneNumber}}" disabled>
                        </div>
                      </div>
                    </div>
                    <div class="collapse extras" id="whereFromExtras">
                      <div class="row mb-3">
                        <div class="col">
                          <label for="pickupInstructions" class="form-label">Pickup instructions <span
                              class="text-muted">(Optional)</span></label>
                          <input type="text" class="form-control" id="pickupInstructions" name="pickupInstructions"
                            value="{{.PickupInstructions}}" disabled>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg">
                    <h3 class="mb-3 fs-5">To</h3>
                    <div class="row mb-3">
                      <div class="col">
                        <label for="whereTo" class="form-label">Address</label>
                        <input type="text" class="form-control" id="whereTo" name="whereTo" required
                          value="{{.DropoffAddress}}" disabled>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <div class="col">
                        <label for="dropoffPhone" class="form-label">Phone number</label>
                        <div class="input-group">
                          <span class="input-group-text">+1</span>
                          <input type="tel" pattern="\([0-9]{3}\) [0-9]{3}-[0-9]{4}" class="form-control phone"
                            id="dropoffPhone" name="dropoffPhone" required value="{{.DropoffPhoneNumber}}" disabled>
                        </div>
                      </div>
                    </div>
                    <div class="collapse extras" id="whereToExtras">
                      <div class="row mb-3">
                        <div class="col">
                          <label for="dropoffBusinessName" class="form-label">Receiver's name <span
                              class="text-muted">(Optional)</span></label>
                          <input type="text" class="form-control" id="dropoffBusinessName" name="dropoffBusinessName"
                            value="{{.DropoffBusinessName}}" disabled>
                        </div>
                      </div>
                      <div class="row mb-3">
                        <div class="col">
                          <label for="dropoffInstructions" class="form-label">Drop-off instructions <span
                              class="text-muted">(Optional)</span></label>
                          <input type="text" class="form-control" id="dropoffInstructions" name="dropoffInstructions"
                            value="{{.DropoffInstructions}}" disabled>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <hr class="my-4">
                <div class="row g-5">

                  <div class="col">
                    <label for="orderValue" class="form-label">Order value</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="text" pattern="[0-9]{0,3}.[0-9]{2}" class="form-control money" id="orderValue"
                        name="orderValue" required value="{{.OrderValue}}" disabled>
                    </div>
                  </div>
                  <div class="col">
                    <label for="tip" class="form-label">Tip</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input type="text" pattern="[0-9]{0,3}.[0-9]{2}" class="form-control money" id="tip" name="tip"
                        required value="{{.Tip}}" disabled>
                    </div>
                  </div>
                </div>
                <hr class="my-4">
                <div class="row mb-3">
                  <div class="col-sm-6 col-md-8 mb-3">
                    <button class="w-100 btn btn-primary btn-lg" type="submit" disabled>Update delivery (coming
                      soon)</button>
                  </div>
                  <div class="col-sm-6 col-md-4 mb-3">
                    <button class="w-100 btn btn-outline-secondary btn-lg" type="button" data-bs-toggle="collapse"
                      data-bs-target=".extras" aria-expanded="false" aria-controls="collapseExample">
                      Show additional info
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
          {{end}}
        </div>
      </div>
    </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
    integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
  <script src="/js/jquery.mask.min.js"></script>
  <script src="/js/forms.js"></script>
</body>

</html>